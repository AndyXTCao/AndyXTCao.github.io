---
layout:     post
title:      iOS程序的内存布局
subtitle:   
date:       2019-09-05
author:     AndyCao
header-img: img/home-bg-o.jpg
catalog: true
tags:
    - iOS
    - Objective-C
---

app启动之后，在内存中的布局情况，基本如下：


![](https://user-gold-cdn.xitu.io/2019/9/5/16cff49b741bcbd9?w=1078&h=1114&f=png&s=303215)

### 代码段
编译之后代码存放的地方，比如方法的实现就存放在这里

### 数据段
- 字符串常量
```Objective-C
// abc为字符串常量
NSString *str = @"abc";
```
- 已初始化的数据：已初始化的全局变量、静态变量等
- 未初始化的数据：未初始化的全局变量、静态变量等

### 栈
- 函数调用开销，比如局部变量就存放在这里
- 分配的内存空间地址越来越小

### 堆
- 通过alloc、malloc、calloc等动态分配的空间
- 分配的内存空间地址越来越大
